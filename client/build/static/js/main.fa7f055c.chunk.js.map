{"version":3,"sources":["reducer/index.js","store/store.js","actions/index.js","services/foodsApiService.js","components/add-food.js","components/header.js","components/errorPage.js","components/card-item.js","components/card-groupe.js","components/app.js","index.js"],"names":["initialState","foods","loading","error","reducer","state","action","type","payload","idx","findIndex","item","id","toString","slice","index","logger","applyMiddleware","storeAPI","next","console","group","log","getState","result","groupEnd","store","createStore","foodsLoaded","foodsRequested","foodsError","getAllFoods","a","fetch","ok","Error","json","addFood","data","method","headers","body","JSON","stringify","updateFood","status","deleteFood","connect","show","handleClose","useState","validated","setValidated","buttonDisabled","setButtonDisabled","title","img","price","description","setData","onChange","e","target","name","value","Modal","onHide","Header","closeButton","Title","Body","Form","onSubmit","preventDefault","find","trim","toLowerCase","then","res","catch","Control","className","placeholder","Group","isInvalid","required","Feedback","as","ButtonGroup","aria-label","Button","onClick","variant","disabled","Spinner","animation","size","role","aria-hidden","modalShow","setModalShow","Navbar","bg","Brand","ErrorPage","foodUpdate","food","foodDel","props","edit","setEdit","buttonUpdateDisabled","setButtonUpdateDisabled","buttonDelDisabled","setButtonDelDisabled","cardBody","Card","Subtitle","Text","editCardBody","er","onDelete","style","width","Img","minHeight","src","foodsList","map","content","useEffect","Jumbotron","Container","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fa7f055c.chunk.js","sourcesContent":["let initialState = {\r\n    foods: [],\r\n    loading: false,\r\n    error: false\r\n}\r\n\r\nconst reducer = (state=initialState, action) => {\r\n\r\n    switch(action.type) {\r\n        case 'FOODS-LOADED':\r\n            return {\r\n                ...state,\r\n                foods: action.payload,\r\n                loading: false,\r\n                error: false\r\n            }\r\n\r\n        case 'FOODS-REQUESTED':\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n                error: false\r\n            }\r\n\r\n        case 'FOODS-ERROR':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: true\r\n            }\r\n\r\n        case 'FOODS-UPDATE':\r\n            const idx = state.foods.findIndex(item=>item.id.toString() === action.payload.id.toString());\r\n\r\n            return {\r\n                ...state,\r\n                foods: [...state.foods.slice(0, idx), action.payload, ...state.foods.slice(idx+1)]\r\n            }\r\n\r\n        case 'FOODS-ADD':\r\n            return {\r\n                ...state,\r\n                foods: [...state.foods, action.payload]\r\n            }\r\n\r\n        case 'FOODS-DEL':\r\n            const index = state.foods.findIndex(item=>item.id.toString() === action.payload.toString());\r\n\r\n            return {\r\n                ...state,\r\n                foods: [...state.foods.slice(0, index), ...state.foods.slice(index+1)]\r\n            }    \r\n\r\n        default: \r\n            return {\r\n                ...state\r\n            }\r\n    }\r\n\r\n}\r\n\r\nexport default reducer;","import {createStore, applyMiddleware} from 'redux';\r\nimport reducer from '../reducer';\r\n\r\nconst loggerMiddleware = storeAPI => next => action => {\r\n    console.group('action', action.type)\r\n    console.log('prev state', storeAPI.getState())\r\n    console.log('action', action)\r\n    let result = next(action)\r\n    console.log('next state', storeAPI.getState())\r\n    console.groupEnd()\r\n    return result\r\n  }\r\n\r\n  const logger = applyMiddleware(loggerMiddleware);\r\n\r\nconst store = createStore(reducer, logger);\r\n\r\nexport default store;","const foodsLoaded = (foods)=>{\r\n    return {\r\n        type: 'FOODS-LOADED',\r\n        payload: foods\r\n    }\r\n}\r\n\r\nconst foodsRequested = ()=>{\r\n    return {\r\n        type: 'FOODS-REQUESTED'\r\n    }\r\n}\r\n\r\nconst foodsError = ()=>{\r\n    return {\r\n        type: 'FOODS-ERROR'\r\n    }\r\n}\r\n\r\nconst foodUpdate = (food)=>{\r\n    return {\r\n        type: 'FOODS-UPDATE',\r\n        payload: food\r\n    }\r\n}\r\n\r\nconst foodAdd = (food)=>{\r\n    return {\r\n        type: 'FOODS-ADD',\r\n        payload: food\r\n    }\r\n}\r\n\r\nconst foodDel = (id)=>{\r\n    return {\r\n        type: 'FOODS-DEL',\r\n        payload: id\r\n    }\r\n}\r\n\r\n\r\nexport {foodsLoaded, foodsRequested, foodsError, foodUpdate, foodAdd, foodDel}","const getAllFoods = async () => {\r\n    const result = await fetch('/api/foods');\r\n\r\n    if (!result.ok) {\r\n        throw new Error('server error')\r\n    }\r\n\r\n    return await result.json();\r\n}\r\n\r\nconst addFood = async (data) => {\r\n    const result = await fetch('/api/foods', {\r\n        method: 'POST',\r\n        headers: {'Content-Type': 'application/json'},\r\n        body: JSON.stringify(data)\r\n    });\r\n\r\n    return await result.json();\r\n}\r\n\r\n\r\nconst updateFood = async (data) => {\r\n    const result = await fetch('/api/foods', {\r\n        method: 'PUT',\r\n        headers: {'Content-Type': 'application/json'},\r\n        body: JSON.stringify(data)\r\n    });\r\n\r\n    if (result.status !== 201) {\r\n        throw new Error('the card has not been updated')\r\n    }\r\n\r\n    return await result.json();\r\n}\r\n\r\nconst deleteFood = async (id) => {\r\n    const result = await fetch('/api/foods/' + id, {\r\n        method: 'DELETE'\r\n    });\r\n\r\n    return result;\r\n};\r\n\r\nexport  {getAllFoods, addFood, updateFood, deleteFood};","import React, { useState } from 'react';\r\nimport { addFood, getAllFoods } from '../services/foodsApiService';\r\nimport { connect } from 'react-redux';\r\nimport { foodsError, foodsRequested, foodsLoaded } from '../actions';\r\nimport { Modal, Button, Form, ButtonGroup, Spinner } from 'react-bootstrap';\r\n\r\nconst AddFood = ({show, handleClose, foodsError, foods, foodsLoaded, foodsRequested}) => {\r\n\r\n    const [validated, setValidated] = useState(false);\r\n    const [buttonDisabled, setButtonDisabled] = useState(false);\r\n\r\n    const [data, setData] = useState({\r\n        title: '',\r\n        img: '',\r\n        price: '',\r\n        description: ''\r\n    });\r\n\r\n    const {title, img, price, description} = data;\r\n\r\n    const onChange = (e) => {\r\n        setValidated(false)\r\n        setData({\r\n            ...data,\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        setValidated(false);\r\n        setButtonDisabled(true);\r\n\r\n        if (foods.find(item=>item.title.trim().toLowerCase() === data.title.trim().toLowerCase())) {\r\n            setValidated(true);\r\n            setButtonDisabled(false);\r\n            return\r\n        }\r\n\r\n        addFood(data)\r\n        .then(res=>{\r\n            handleClose();\r\n            foodsRequested();\r\n            setButtonDisabled(false);\r\n            setData({\r\n                title: '',\r\n                img: '',\r\n                price: '',\r\n                description: ''\r\n            })\r\n\r\n            getAllFoods()\r\n            .then(res=>{\r\n                foodsLoaded(res)\r\n            })\r\n            .catch(e=>foodsError());    \r\n\r\n        })\r\n        .catch(e=>foodsError());\r\n\r\n    }\r\n\r\n    return (\r\n        <Modal show={show} onHide={handleClose}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Add new hot-dog</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Form validated={validated} onSubmit={onSubmit}>\r\n                    <Form.Control className=\"mb-2\" placeholder=\"Img URL\" onChange={onChange} name=\"img\" type=\"text\" value={img} />\r\n                    <Form.Group>\r\n                        <Form.Control isInvalid={validated} required className=\"mb-2\" placeholder=\"Title\" onChange={onChange} name=\"title\" type=\"text\" value={title} />\r\n                        <Form.Control.Feedback type=\"invalid\">This title already exists</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Form.Control required className=\"mb-2\" placeholder=\"Price\" onChange={onChange} name=\"price\" type=\"number\" value={price} />\r\n                    <Form.Control className=\"mb-2\" placeholder=\"Description\" onChange={onChange} name=\"description\" as=\"textarea\" value={description} />\r\n                    <ButtonGroup aria-label=\"Basic example\">\r\n                        <Button onClick={handleClose} type=\"button\" className=\"mt-1\" variant=\"secondary\">No thanks!</Button>\r\n                        <Button disabled={buttonDisabled} type=\"submit\" className=\"mt-1\" variant=\"dark\">\r\n                            Add  {buttonDisabled ? <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\"/> : ''} \r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </Form>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({foods}) => {\r\n    return {\r\n        foods\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {foodsError,  foodsRequested, foodsLoaded})(AddFood);","import React, { useState } from 'react';\r\nimport AddFood from './add-food';\r\nimport { Navbar, Button } from 'react-bootstrap';\r\n\r\nconst Header = () => {\r\n\r\n    const [modalShow, setModalShow] = useState(false);\r\n\r\n    return (\r\n        <>\r\n            <AddFood show={modalShow} handleClose={()=>setModalShow(false)}/>\r\n            <Navbar className=\"d-flex justify-content-between\" bg=\"dark\" variant=\"dark\">\r\n                <Navbar.Brand>\r\n                    CRUD\r\n                </Navbar.Brand>\r\n                <Button onClick={()=>setModalShow(true)} variant=\"outline-light\">Add hot-dog</Button>{' '}\r\n            </Navbar>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nconst ErrorPage = () => {\r\n    return (\r\n        <h1>Error...</h1>\r\n    )\r\n}\r\n\r\nexport default ErrorPage;","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { foodUpdate, foodDel, foodsLoaded, foodsRequested, foodsError } from '../actions';\r\nimport { updateFood, deleteFood, getAllFoods } from '../services/foodsApiService';\r\nimport { Card, Button, Form, Spinner } from 'react-bootstrap';\r\n\r\n\r\nconst CardItem = (props) => {\r\n\r\n    const [validated, setValidated] = useState(false);\r\n    const [edit, setEdit] = useState(false);\r\n    const [buttonUpdateDisabled, setButtonUpdateDisabled] = useState(false);\r\n    const [buttonDelDisabled, setButtonDelDisabled] = useState(false);\r\n    const [data, setData] = useState({\r\n        title: props.title,\r\n        price: props.price,\r\n        img: props.img,\r\n        description: props.description,\r\n        id: props.id\r\n    })\r\n\r\n    const {title, img, price, description, id} = data;\r\n\r\n    const onChange = (e) => {\r\n        setValidated(false);\r\n        setData({\r\n            ...data,\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n\r\n    const onUpdate = (e) => {\r\n        e.preventDefault();\r\n        setButtonUpdateDisabled(true);\r\n        setValidated(false);\r\n\r\n        if (props.foods.find(item=>item.title.trim().toLowerCase() === data.title.trim().toLowerCase() && item.id !== data.id)) {\r\n            setValidated(true);\r\n            setButtonUpdateDisabled(false);\r\n            return\r\n        }\r\n\r\n        updateFood(data)\r\n        .then(res=>{\r\n            setEdit(false);\r\n            setButtonUpdateDisabled(false)\r\n            props.foodsRequested();\r\n\r\n            getAllFoods()\r\n            .then(res=>props.foodsLoaded(res))\r\n            .catch(er=>props.foodsError());\r\n\r\n        })\r\n        .catch(er=>{\r\n            console.log(er);\r\n            setButtonUpdateDisabled(false)\r\n        })\r\n    }\r\n\r\n    const onDelete = (id) => {\r\n        setButtonDelDisabled(true);\r\n\r\n        deleteFood(id)\r\n        .then(res=>{ \r\n            props.foodsRequested();\r\n\r\n            getAllFoods()\r\n            .then(res=>props.foodsLoaded(res))\r\n            .catch(er=>props.foodsError());\r\n\r\n        })\r\n        .catch(e=>{\r\n            console.log(e);\r\n            setButtonDelDisabled(false);\r\n        })\r\n    }\r\n\r\n\r\n    const onEdit = () => {\r\n        setEdit(true)\r\n    }\r\n\r\n    const cardBody = (\r\n        <Card.Body className=\"body-card\">\r\n            <Card.Title>{title}</Card.Title>\r\n            <Card.Subtitle className=\"mb-2 text-muted\">{`${price}$`}</Card.Subtitle>\r\n            <Card.Text className=\"mb-5\">{description}</Card.Text>\r\n            <Button onClick={onEdit} className=\"w-100 button-card\" variant=\"secondary\">Edit</Button>\r\n        </Card.Body>\r\n    );\r\n\r\n    const editCardBody = (\r\n        <Form validated={validated} onSubmit={onUpdate}>\r\n             <Form.Control onChange={onChange} name=\"img\" type=\"text\" value={img} />\r\n             {/* <Form.Group> */}\r\n                <Form.Control isInvalid={validated} onChange={onChange} name=\"title\" type=\"text\" value={title} />\r\n                <Form.Control.Feedback type=\"invalid\">This title already exists</Form.Control.Feedback>\r\n             {/* </Form.Group> */}\r\n             <Form.Control onChange={onChange} name=\"price\" type=\"number\" value={price} />\r\n             <Form.Control onChange={onChange} name=\"description\" as=\"textarea\" value={description} />\r\n             <Form.Control name=\"id\" type=\"hidden\" value={id} />\r\n             <Button disabled={buttonUpdateDisabled} type=\"submit\" className=\"w-100 mt-1\" variant=\"secondary\">\r\n                 Update {buttonUpdateDisabled ? <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\"/> : ''}\r\n            </Button>\r\n             <Button onClick={()=>onDelete(id)} type=\"button\" className=\"w-100 mt-1\" variant=\"secondary\">\r\n                 Delete {buttonDelDisabled ? <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\"/> : ''}\r\n            </Button>\r\n        </Form>\r\n    );\r\n\r\n    const body = edit ? editCardBody : cardBody;\r\n\r\n\r\n    return (\r\n        <div className=\"d-flex\">\r\n            <Card className=\"mr-3 ml-3 mt-3\" style={{ width: '18rem' }}>\r\n                <Card.Img style={{minHeight: '250px'}} variant=\"top\" src={img} />\r\n                {body}\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({foods}) => {\r\n    return {\r\n        foods\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {foodUpdate, foodDel, foodsLoaded, foodsRequested, foodsError})(CardItem);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport ErrorPage from './errorPage';\r\nimport CardItem from './card-item';\r\n\r\nconst CardGroupe = ({foods, loading, error}) => {\r\n\r\n    \r\n\r\n    const foodsList = (\r\n        foods.map( item => <CardItem \r\n        key={item.id}\r\n        title={item.title} \r\n        img={item.img}\r\n        price={item.price}\r\n        description={item.description}\r\n        id={item.id}\r\n        />) \r\n        );\r\n\r\n    const content = error ? <ErrorPage /> : foodsList;\r\n\r\n    return (\r\n        <div className=\"d-flex flex-wrap justify-content-center\">\r\n           {\r\n            loading ? <Spinner className=\"spin\" animation=\"border\" variant=\"secondary\" /> : content \r\n           }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = ({foods, loading, error}) => {\r\n    return {\r\n        foods,\r\n        loading,\r\n        error\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(CardGroupe);","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { foodsLoaded, foodsRequested, foodsError } from '../actions';\r\nimport Header from '../components/header';\r\nimport CardGroupe from '../components/card-groupe';\r\nimport { getAllFoods } from '../services/foodsApiService';\r\nimport { Container, Jumbotron } from 'react-bootstrap';\r\n\r\nfunction App({foodsLoaded, foodsRequested}) {\r\n\r\n  useEffect(() => {\r\n\r\n    foodsRequested();\r\n    getAllFoods().then(res=>foodsLoaded(res)).catch(e=>foodsError())\r\n    \r\n  }, [foodsLoaded, foodsRequested]);\r\n\r\n  return (\r\n    <> \r\n        <Header />\r\n        <Jumbotron className=\"jambo\">\r\n            <Container>\r\n                <CardGroupe />\r\n            </Container>\r\n        </Jumbotron>\r\n    </>\r\n   \r\n  );\r\n}\r\n\r\n\r\n\r\nexport default connect(null, {foodsLoaded, foodsRequested, foodsError})(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport store from './store/store';\nimport App from './components/app';\n\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}